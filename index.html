<html>

<head>
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <!-- include ar.js for A-Frame -->
  <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
  <style>
   
button {
    padding: 10px 20px;
    margin: 10px;
    border: none;
    border-radius: 5px;
    background-color: #007bff;
    color: white;
    cursor: pointer;
}

  </style>
</head>

<body style='margin : 0px; overflow: hidden;'>
  
  <a-scene embedded arjs vr-mode-ui="enabled: false">
    <!-- create your content here. just a box for now -->
    <!--a-box position='0 0.5 0' material='opacity: 0.5;'></a-box-->
    <a-box position="-1 0.5 -10" rotation="0 45 0" color="#4CC3D9"
      material="color: #d2a21e; opacity: 0.5; emissive: #654001" geometry="">
    </a-box>

    <!-- define a camera which will move according to the marker position -->

  </a-scene>
  <video id="recordedVideo" controls></video>
        <button id="startBtn">Start Recording</button>
        <button id="stopBtn">Stop Recording</button>

</body>
<script>
  const startBtn = document.getElementById('startBtn');
const stopBtn = document.getElementById('stopBtn');
const recordedVideo = document.getElementById('recordedVideo');
let mediaRecorder;
let recordedChunks = [];

startBtn.addEventListener('click', async () => {
    const stream = await navigator.mediaDevices.getDisplayMedia({ video: true });
    mediaRecorder = new MediaRecorder(stream);

    mediaRecorder.ondataavailable = event => {
        if (event.data.size > 0) {
            recordedChunks.push(event.data);
        }
    };

    mediaRecorder.start();
});

stopBtn.addEventListener('click', () => {
    mediaRecorder.stop();
});

mediaRecorder.onstop = () => {
    const blob = new Blob(recordedChunks, { type: 'video/webm' });
    recordedVideo.src = URL.createObjectURL(blob);
    recordedChunks = [];
};

</script>
</html>
